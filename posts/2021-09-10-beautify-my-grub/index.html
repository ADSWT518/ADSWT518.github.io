<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>ç¾åŒ–grubå¯åŠ¨ç•Œé¢ - YazhouTang</title><link rel=icon type=image/png href=https://img.icons8.com/external-those-icons-lineal-color-those-icons/24/000000/external-rice-restaurant-those-icons-lineal-color-those-icons.png><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="å…¶å®æ˜¯ä¸€ä»¶å¾ˆç®€å•çš„äº‹æƒ…ï¼Œä½†æ˜¯èŠ±äº†æˆ‘å¥½å‡ ä¸ªå°æ—¶"><meta property="og:image" content><meta property="og:title" content="ç¾åŒ–grubå¯åŠ¨ç•Œé¢"><meta property="og:description" content="å…¶å®æ˜¯ä¸€ä»¶å¾ˆç®€å•çš„äº‹æƒ…ï¼Œä½†æ˜¯èŠ±äº†æˆ‘å¥½å‡ ä¸ªå°æ—¶"><meta property="og:type" content="article"><meta property="og:url" content="https://www.tangda.me/posts/2021-09-10-beautify-my-grub/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-09-10T00:00:00+00:00"><meta property="article:modified_time" content="2021-09-10T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="ç¾åŒ–grubå¯åŠ¨ç•Œé¢"><meta name=twitter:description content="å…¶å®æ˜¯ä¸€ä»¶å¾ˆç®€å•çš„äº‹æƒ…ï¼Œä½†æ˜¯èŠ±äº†æˆ‘å¥½å‡ ä¸ªå°æ—¶"><script src=https://www.tangda.me/js/feather.min.js></script>
<script src=https://unpkg.com/@waline/client@v2/dist/waline.js></script>
<link href=https://unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><link href=https://www.tangda.me/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://www.tangda.me/css/main.d1574b43a51792a446cd761d6f9b1c9abb39ed2c36ca6984f74aef729eb9f245.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://www.tangda.me/css/dark.726cd11ca6eb7c4f7d48eb420354f814e5c1b94281aaf8fd0511c1319f7f78a4.css disabled></head><body><div class=content><header><div class=main><a href=https://www.tangda.me/>YazhouTang</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/about>About</a>
<a href=/tags>Tags</a>
| <a id=dark-mode-toggle onclick=toggleTheme() href></a>
<script src=https://www.tangda.me/js/themetoggle.js></script></nav></header><main><article><div class=title><h1 class=title>ç¾åŒ–grubå¯åŠ¨ç•Œé¢</h1><div class=meta>Posted on Sep 10, 2021</div></div><section class=body><h2 id=æ­£å¸¸æ­¥éª¤>æ­£å¸¸æ­¥éª¤</h2><p>è§‰å¾—grubç•Œé¢å¤ªä¸‘æƒ³è¦ç¾åŒ–ä¸€ä¸‹->æœç´¢åˆ°å–œæ¬¢çš„ä¸»é¢˜ï¼ˆæˆ‘ç”¨çš„æ˜¯<a href=https://github.com/vinceliuice/grub2-themes>Vinceliuiceå¤§ä½¬åˆ¶ä½œçš„Vimix</a>ï¼‰->è¿›è¡Œå®‰è£…å®Œæˆç¾åŒ–</p><h2 id=å‡ºç°é—®é¢˜>å‡ºç°é—®é¢˜</h2><h3 id=ä¸­æ–‡å­—ä½“>ä¸­æ–‡å­—ä½“</h3><p>æˆ‘çš„grubç•Œé¢æ˜¯æœ‰ä¸­æ–‡çš„ï¼Œä½†æ˜¯ä¸»é¢˜é»˜è®¤çš„å­—ä½“æ˜¯Dejavu Sansï¼Œä¸åŒ…å«ä¸­æ–‡ã€‚å› æ­¤æˆ‘éœ€è¦è‡ªå®šä¹‰å­—ä½“ï¼Œå¤§æ¦‚æœ‰å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li><p>æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„å­—ä½“ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯å¾®è½¯é›…é»‘ï¼Œä½¿ç”¨Win10è‡ªå¸¦çš„<code>msyh.ttc</code>ã€‚è¿™ä¸ª<code>.ttc</code>æ–‡ä»¶æ˜¯Microsoft YaHeiå’ŒMicrosoft YaHei UIä¸¤ç§å­—ä½“çš„æ‰“åŒ…ã€‚</p></li><li><p>ä½¿ç”¨<code>grub-mkfont</code>æŒ‡ä»¤ï¼Œå°†å…¶è½¬åŒ–ä¸ºgrubå¯ç”¨çš„<code>.pf2</code>æ ¼å¼ã€‚ä½†æ˜¯è¿™é‡Œå¯¹å­—ä½“çš„åŸæ ¼å¼æœ‰è¦æ±‚<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>ã€‚äºæ˜¯æˆ‘æ‰¾äº†ä¸ªå°å·¥å…·ï¼Œä»<code>msyh.ttc</code>ä¸­æå–å‡ºäº†ä¸¤ä¸ª<code>.ttf</code>æ–‡ä»¶ï¼Œç„¶åå¯¹Microsoft YaHeiå­—ä½“å¯¹åº”çš„<code>.ttf</code>æ–‡ä»¶è¿›è¡Œè½¬åŒ–ã€‚åŒæ—¶ä¹Ÿéœ€è¦æ³¨æ„è®¾ç½®å¥½å­—ä½“çš„å¤§å°ã€‚</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>grub-mkfont -s <span style=color:#2aa198;font-weight:700>32</span> -o msyh_32.pf2 msyh.ttf
</span></span></code></pre></div></li><li><p>å°†å¾—åˆ°çš„å­—ä½“æ”¾å…¥ä¸»é¢˜æ‰€åœ¨çš„æ–‡ä»¶å¤¹<code>/usr/share/grub/themes/[ä¸»é¢˜å]</code>ã€‚</p></li><li><p>ä¿®æ”¹<code>theme.txt</code>ï¼Œå°†<code>item_font</code>æ”¹æˆè¯¥å­—ä½“çš„<strong>å…¨ç§°</strong>å’Œå¤§å°<sup id=fnref1:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>ã€‚ç„¶åå†ç”¨<code>grub_mkconfig</code>ç”Ÿæˆé…ç½®æ–‡ä»¶å¹¶é‡å¯å°±å¥½äº†ã€‚</p><p>è¿™é‡Œçš„â€œ<strong>å…¨ç§°</strong>å’Œå¤§å°â€ï¼Œæˆ‘ä¸€å¼€å§‹å¡«å†™çš„æ˜¯<code>Microsoft YaHei 32</code>ï¼Œç„¶åå‘ç°grubæ‰¾ä¸åˆ°è¿™ä¸ªå­—ä½“ï¼ŒæŸ¥äº†åŠå¤©èµ„æ–™ä¹Ÿæ²¡å•¥å¤´ç»ª ğŸ’” æœ€åæŠŠå®ƒæ”¹æˆ<code>Microsoft YaHei Regular 32</code>ï¼Œå°±æ­£å¸¸äº† ğŸ˜­</p></li></ol><h3 id=è‡ªå®šä¹‰icon>è‡ªå®šä¹‰icon</h3><p>æŠ˜è…¾å¥½å­—ä½“åï¼Œæˆ‘å‘ç°å¯åŠ¨ç•Œé¢çš„4ä¸ªé€‰é¡¹ä¸­ï¼Œâ€œArchLinuxé«˜çº§å¯åŠ¨â€å’Œâ€œUEFIâ€è¿™ä¸¤ä¸ªé€‰é¡¹æ˜¯æ²¡æœ‰iconçš„ã€‚æˆ‘æ ¹æ®<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>å’Œ<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>è¿™ä¸¤ä¸ªIssueè§£å†³äº†é—®é¢˜ã€‚</p><ol><li><p>é¦–å…ˆå»<sup id=fnref1:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>ä¸­ä¸‹è½½è¿™ä½ç”¨æˆ·åˆ¶ä½œçš„å›¾æ ‡ï¼Œå¹¶ä¸”å‘½åä¸º<code>submenu.png</code>ï¼Œæ”¾å…¥<code>/usr/share/grub/themes/[ä¸»é¢˜å]/icons</code>ã€‚ï¼ˆè¿™ä¸ªå›¾æ ‡ç”¨äºé«˜çº§å¯åŠ¨ï¼Œè€Œä¸‹è½½çš„ä¸»é¢˜ä¸­æä¾›äº†UEFIçš„å›¾æ ‡ï¼‰</p></li><li><p>ç„¶åè¿›å…¥åˆ°<code>etc/grub.d</code>ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶</p><p><img src=./20210910-1.png alt=grub.d></p></li><li><p>å…¶ä¸­ï¼Œ<code>10_linux</code>åŒ…å«äº†ArchLinuxçš„å¯åŠ¨é¡¹å’ŒArchLinuxé«˜çº§å¯åŠ¨ï¼Œ<code>30_os-prober</code>åŒ…å«äº†Windowsçš„å¯åŠ¨é¡¹ï¼Œ<code>30_uefi-firmware</code>åŒ…å«äº†UEFIé€‰é¡¹ã€‚<del>å…¶å®ƒå‡ ä¸ªä¸çŸ¥é“æ˜¯å¹²å˜›çš„</del>å› æ­¤æˆ‘ä»¬éœ€è¦ä¿®æ”¹<code>10_linux</code>å’Œ<code>30_uefi-firmware</code>ã€‚</p></li><li><p>å®é™…ä¸Šåªéœ€è¦ç»™å¯¹åº”çš„å¯åŠ¨é¡¹åŠ ä¸Šä¸€ä¸ª<code>--class</code>é€‰é¡¹å°±å¯ä»¥äº†ï¼Œè¿™æ ·grubå°±ä¼šåˆ°å…¶ä½¿ç”¨çš„ä¸»é¢˜çš„iconsæ–‡ä»¶å¤¹ä¸­å¯»æ‰¾åç§°ä¸<code>--class</code>é€‰é¡¹ç›¸åŒçš„å›¾ç‰‡ã€‚å› æ­¤æˆ‘ä»¬åœ¨<code>10_linux</code>çš„ç¬¬286è¡ŒåŠ ä¸Š<code>--class submenu</code>ï¼Œä¿®æ”¹å¥½ä¹‹åçš„è¿™è¡Œå¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#cb4b16>echo</span> <span style=color:#2aa198>&#34;submenu &#39;</span><span style=color:#859900>$(</span>gettext_printf <span style=color:#2aa198>&#34;Advanced options for %s&#34;</span> <span style=color:#2aa198>&#34;</span><span style=color:#2aa198>${</span><span style=color:#268bd2>OS</span><span style=color:#2aa198>}</span><span style=color:#2aa198>&#34;</span> | grub_quote<span style=color:#859900>)</span><span style=color:#2aa198>&#39; --class submenu \$menuentry_id_option &#39;gnulinux-advanced-</span><span style=color:#268bd2>$boot_device_id</span><span style=color:#2aa198>&#39; {&#34;</span>
</span></span></code></pre></div><p>åœ¨<code>30_uefi-firmware</code>çš„ç¬¬40è¡ŒåŠ ä¸Š<code>--class efi</code>ï¼Œä¿®æ”¹å¥½ä¹‹åçš„è¿™è¡Œå¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>menuentry <span style=color:#2aa198>&#39;$LABEL&#39;</span> --class efi <span style=color:#2aa198>\$</span>menuentry_id_option <span style=color:#2aa198>&#39;uefi-firmware&#39;</span> {
</span></span></code></pre></div><p>è¿™æ ·å°±å¯ä»¥äº†ã€‚</p></li></ol><h2 id=å®Œæˆå›¾>å®Œæˆå›¾</h2><p><del>æ²¡å•¥å¥½åŠæ³•åªèƒ½ç”¨æ‰‹æœºæ‹å±å¹•äº†</del></p><p><img src=./20210910-2.jpg alt=finish></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Grub2 theme / reference <a href=http://wiki.rosalab.ru/en/index.php/Grub2_theme_/_reference#Font_name>http://wiki.rosalab.ru/en/index.php/Grub2_theme_/_reference#Font_name</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a>&#160;<a href=#fnref1:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>Issue 136: Icon Request: Advanced options and UEFI firmware settings <a href=https://github.com/vinceliuice/grub2-themes/issues/136>https://github.com/vinceliuice/grub2-themes/issues/136</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>Issue 116: Add Icon: submenu <a href=https://github.com/vinceliuice/grub2-themes/issues/116>https://github.com/vinceliuice/grub2-themes/issues/116</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a>&#160;<a href=#fnref1:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></section><div id=waline></div><script>Waline.init({el:"#waline",serverURL:"https://comments.tangda.me/",emoji:["https://unpkg.com/@waline/emojis@1.0.1/qq","https://unpkg.com/@waline/emojis@1.0.1/tw-emoji"],pageview:!0,dark:'html[theme="dark"]'})</script><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/archlinux>ArchLinux</a></li></ul></nav></div></article></main><link rel=stylesheet href=https://at.alicdn.com/t/font_2805750_w2yagwq4f2l.css><footer><div style=display:flex><a class=soc href=mailto:tangyazhou518@outlook.com title=Mail><i data-feather=mail></i></a>
<a class=border></a><a class=soc href=https://github.com/ADSWT518/ title=Github><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://twitter.com/AndrewTang518 title=Twitter><i data-feather=twitter></i></a>
<a class=border></a><a class=soc href=https://www.zhihu.com/people/ADSWT518 title=Zhihu><i class="iconfont icon-zhihu"></i></a>
<a class=border></a></div><div class=footer-info>2022 Â© Yazhou Tang | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a> | Made with â¤ï¸</div></footer>å½“å‰é¡µé˜…è¯»é‡ä¸º: <span class=waline-pageview-count , path=/posts/2021-09-10-beautify-my-grub/></span>
<script>feather.replace()</script></div></body></html>